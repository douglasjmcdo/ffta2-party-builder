<div class="unit">
    <div class="unit-header">
        <div class="sprite-box">
            <img 
                class="unit-sprite" 
                alt="{{ this?.priclassentry }}" 
                src="{{this.data.changetracker | selectSprite:this.data:this?.priclassentry}}"
            >
        </div>
        <div> {{data.unitname }} {{data.unitid}} <span *ngIf="data.race != -1"> -- {{this.ps.RACENAMES[data.race]}}</span> </div>
    </div>
    <div class="stat-box">
        <div> A→ {{data.primaryclass }}</div>
        <div> A→ {{data.secondaryclass }}</div>
        <div> R↰ {{data.rability }}</div>
        <div> P↑ {{data.pability }}</div>
    </div>
    <div class="unit-footer">
        <button [routerLink]=[editurl]>Edit</button>
        <button class="dangerous-button" (click)="deletemodal.showModal()">Delete</button>
    </div>
</div>

<dialog #deletemodal>
    <div class="dialog">
        <p>Delete {{data.unitname}} {{data.unitid}}?</p>
        <form method="dialog" (click)="deletemodal.close()">
        <button autofocus>
                Nevermind
            </button>
            <button class="dangerous-button" (click)="deleteUnit()">
                Delete
            </button>
        </form>
    </div>
</dialog>
